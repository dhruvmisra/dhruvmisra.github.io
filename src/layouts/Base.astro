---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header/Header.astro";
import Footer from "../components/Footer.astro";

export interface Props {
    title: string;
    description: string;
}

const { title, description } = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
    <head>
        <BaseHead title={title} description={description} />
        <script is:inline>
            const getInitialTheme = () => {
                if (typeof localStorage !== "undefined" && localStorage.getItem("theme")) {
                    return localStorage.getItem("theme");
                }
                if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
                    return "dark";
                }
                return "light";
            };
            const setInitialTheme = () => {
                const theme = getInitialTheme();

                if (theme === "light") {
                    document.documentElement.classList.remove("dark");
                } else {
                    document.documentElement.classList.add("dark");
                }
                window.localStorage.setItem("theme", theme);
            };
            setInitialTheme();
        </script>
    </head>

    <body class="flex flex-col min-h-screen bg-light-bg dark:bg-dark-bg dark:text-gray-200">
        <Header />
        <main id="swup" class="wrapper container mx-auto">
            <slot />
        </main>
        <Footer />
        <!-- <script hoist>
            import '../helpers/swup.ts';
        </script> -->
    </body>
</html>
